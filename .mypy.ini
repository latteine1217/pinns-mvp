[mypy]
# PINNs-MVP 專案類型檢查配置
# 目標：平衡類型安全與開發效率

# 基本配置
python_version = 3.10
warn_return_any = True
warn_unused_configs = True
disallow_untyped_defs = False  # 允許未類型化的函數定義（許多科學計算庫需要）

# 忽略特定模組的類型檢查（已知的技術性問題）
[mypy-pyJHTDB.*]
ignore_missing_imports = True

[mypy-h5py.*]
ignore_missing_imports = True

[mypy-scipy.*]
ignore_missing_imports = True

[mypy-matplotlib.*]
ignore_missing_imports = True
ignore_errors = True  # 忽略 matplotlib 相關的所有類型錯誤

# 對於核心模組進行有選擇的檢查
[mypy-pinnx.physics.*]
# 物理引擎模組 - 邏輯正確但異常處理的返回類型檢查放寬
check_untyped_defs = False

[mypy-pinnx.dataio.jhtdb_client]
# JHTDB客戶端 - 存在外部依賴相關的類型問題
ignore_errors = True

[mypy-pinnx.sensors.qr_pivot]
# QR Pivot - numpy.linalg.qr 返回值在不同條件下的解包問題
ignore_errors = True

# 測試檔案的類型檢查放寬
[mypy-test_*]
ignore_errors = True

[mypy-tests.*]
ignore_errors = True

# 根目錄的實驗性檔案
[mypy-*3d_enhanced*]
ignore_errors = True

[mypy-*qr_pivot*]
ignore_errors = True

[mypy-*real_jhtdb*]
ignore_errors = True

# 可視化腳本 - matplotlib 3D scatter 類型標註問題
[mypy-visualize_adaptive_sampling]
ignore_errors = True

# 參數敏感度實驗腳本 - pandas/matplotlib 類型問題
[mypy-parameter_sensitivity_experiment]
ignore_errors = True