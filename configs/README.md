# PINNs è¨“ç·´é…ç½®ç®¡ç†æŒ‡å—

## ğŸš€ å¿«é€Ÿé–‹å§‹

**æ–°æ‰‹ç”¨æˆ¶**ï¼šç›´æ¥ä½¿ç”¨æ¨™æº–åŒ–æ¨¡æ¿é–‹å§‹è¨“ç·´ ğŸ‘‰ **[`templates/` ç›®éŒ„](./templates/README.md)**

**é€²éšç”¨æˆ¶**ï¼šåƒè€ƒä¸‹æ–¹å®Œæ•´æŒ‡å—é€²è¡Œè‡ªå®šç¾©é…ç½®

---

## ğŸ“‹ ç›®éŒ„çµæ§‹

```
configs/
â”œâ”€â”€ README.md                    # æœ¬æ–‡æª”ï¼ˆé…ç½®ç®¡ç†ç¸½æŒ‡å—ï¼‰
â”œâ”€â”€ templates/                   # â­ æ¨™æº–åŒ–æ¨¡æ¿ç›®éŒ„
â”‚   â”œâ”€â”€ README.md                #    æ¨¡æ¿ä½¿ç”¨æŒ‡å¼•ï¼ˆè©³ç´°ï¼‰
â”‚   â”œâ”€â”€ 2d_quick_baseline.yml    #    2D å¿«é€ŸåŸºç·šï¼ˆ5-10 minï¼‰
â”‚   â”œâ”€â”€ 2d_medium_ablation.yml   #    2D æ¶ˆèå¯¦é©—ï¼ˆ15-30 minï¼‰
â”‚   â”œâ”€â”€ 3d_slab_curriculum.yml   #    3D èª²ç¨‹å­¸ç¿’ï¼ˆ30-60 minï¼‰
â”‚   â””â”€â”€ 3d_full_production.yml   #    3D ç”Ÿç”¢è¨“ç·´ï¼ˆ2-8 hrsï¼‰
â”‚
â”œâ”€â”€ experiment_tracking.md       # å¯¦é©—è¿½è¹¤è¨˜éŒ„
â”œâ”€â”€ main.yml                     # ç”Ÿç”¢ç´šä¸»é…ç½®
â”œâ”€â”€ monitoring.yml              # ç›£æ§é…ç½®
â”œâ”€â”€ config_template_example.yml # è©³ç´°ç¯„ä¾‹æ¨¡æ¿
â””â”€â”€ test_physics_1k.yml         # v3 ä¿®æ­£ç‰ˆé…ç½®ï¼ˆ1000 epochsï¼‰
```

---

## ğŸ“¦ æ¨¡æ¿å¿«é€Ÿé¸æ“‡

| å ´æ™¯ | æ¨¡æ¿ | æ™‚é–“ | è©³ç´°èªªæ˜ |
|------|------|------|---------|
| **å¿«é€Ÿé©—è­‰æƒ³æ³•** | [`2d_quick_baseline.yml`](./templates/2d_quick_baseline.yml) | 5-10 åˆ†é˜ | [ä½¿ç”¨æŒ‡å¼•](./templates/README.md#1ï¸âƒ£-2d_quick_baselineyml---å¿«é€ŸåŸºæº–æ¸¬è©¦) |
| **ç‰¹å¾µæ¶ˆèç ”ç©¶** | [`2d_medium_ablation.yml`](./templates/2d_medium_ablation.yml) | 15-30 åˆ†é˜ | [ä½¿ç”¨æŒ‡å¼•](./templates/README.md#2ï¸âƒ£-2d_medium_ablationyml---ä¸­æœŸæ¶ˆèå¯¦é©—) |
| **èª²ç¨‹å¼è¨“ç·´** | [`3d_slab_curriculum.yml`](./templates/3d_slab_curriculum.yml) | 30-60 åˆ†é˜ | [ä½¿ç”¨æŒ‡å¼•](./templates/README.md#3ï¸âƒ£-3d_slab_curriculumyml---3d-èª²ç¨‹å­¸ç¿’) |
| **è«–æ–‡ç´šçµæœ** | [`3d_full_production.yml`](./templates/3d_full_production.yml) | 2-8 å°æ™‚ | [ä½¿ç”¨æŒ‡å¼•](./templates/README.md#4ï¸âƒ£-3d_full_productionyml---ç”Ÿç”¢ç´šè¨“ç·´) |

ğŸ‘‰ **å®Œæ•´æ¨¡æ¿æ–‡æª”**ï¼š[`templates/README.md`](./templates/README.md)

---

---

## ğŸ¯ é…ç½®å‘½åè¦ç¯„

### æ¨™æº–æ ¼å¼
```
{spatial}_{duration}_{type}_{variant}_{version}.yml
```

### æ¬„ä½èªªæ˜

| æ¬„ä½ | å–å€¼ç¯„åœ | èªªæ˜ | ç¯„ä¾‹ |
|------|---------|------|------|
| **spatial** | `2d` / `3d_slab` / `3d_full` | ç©ºé–“ç¶­åº¦èˆ‡è§£æåº¦ | `2d`: XY åˆ‡ç‰‡<br>`3d_slab`: 128Ã—64Ã—16<br>`3d_full`: 128Ã—64Ã—64 |
| **duration** | `quick` / `medium` / `full` / `1k` / `5k` | è¨“ç·´æ™‚é•·ç­‰ç´š | `quick`: 50-100 epochs (5-10 min)<br>`medium`: 500-1k epochs (15-30 min)<br>`full`: 2k-5k epochs (1-4 hrs) |
| **type** | `baseline` / `ablation` / `curriculum` / `sensitivity` / `comparison` | å¯¦é©—é¡å‹ | `baseline`: åŸºç·šå°ç…§<br>`ablation`: æ¶ˆèç ”ç©¶<br>`curriculum`: èª²ç¨‹å­¸ç¿’<br>`sensitivity`: åƒæ•¸æ•æ„Ÿåº¦<br>`comparison`: æ–¹æ³•å°æ¯” |
| **variant** | `fourier` / `rans` / `adaptive` / `vs_pinn` / è‡ªå®šç¾© | ç‰¹å¾µè®Šé«” | `fourier`: å‚…ç«‹è‘‰ç‰¹å¾µ<br>`rans`: RANS ä½ä¿çœŸ<br>`adaptive`: è‡ªé©æ‡‰æ¬Šé‡<br>`vs_pinn`: è®Šæ•¸å°ºåº¦åŒ– |
| **version** | `v1` / `v2` / `v3` | ç‰ˆæœ¬è™Ÿ | `v1`: åˆå§‹ç‰ˆæœ¬<br>`v2`: ä¿®æ­£ç‰ˆæœ¬ |

### å‘½åç¯„ä¾‹

| é…ç½®æª”å | è§£è®€ |
|---------|------|
| `2d_quick_baseline_adam_v1.yml` | 2D åˆ‡ç‰‡ + å¿«é€Ÿæ¸¬è©¦ï¼ˆ50-100 epochsï¼‰+ Adam å„ªåŒ–å™¨åŸºç·š + ç‰ˆæœ¬ 1 |
| `3d_slab_medium_ablation_fourier_v2.yml` | 3D è–„ç‰‡ + ä¸­ç­‰æ™‚é•·ï¼ˆ500-1kï¼‰+ å‚…ç«‹è‘‰æ¶ˆèå¯¦é©— + ç‰ˆæœ¬ 2 |
| `3d_full_curriculum_vs_pinn_v1.yml` | 3D å®Œæ•´ + èª²ç¨‹å­¸ç¿’ + VS-PINN + ç‰ˆæœ¬ 1 |
| `2d_1k_sensitivity_alpha_v1.yml` | 2D + 1000 epochs + GradNorm alpha æ•æ„Ÿåº¦æ¸¬è©¦ + ç‰ˆæœ¬ 1 |

---

## ğŸ“ å¯¦é©—è¨­è¨ˆæ¡†æ¶

### 1. **ç©ºé–“ç¶­åº¦é¸æ“‡**

| é¡å‹ | è§£æåº¦ | K é»æ•¸ç¯„åœ | è¨“ç·´æ™‚é•· | é©ç”¨å ´æ™¯ |
|------|--------|-----------|---------|---------|
| **2D åˆ‡ç‰‡** | 128Ã—64 (XY) | 20-100 | 5-30 min | å¿«é€Ÿé©—è­‰ã€åƒæ•¸èª¿å„ª |
| **3D è–„ç‰‡** | 128Ã—64Ã—16 | 50-200 | 15-60 min | ä¸­ç­‰è¦æ¨¡é©—è­‰ |
| **3D å®Œæ•´** | 128Ã—64Ã—64 | 80-500 | 1-8 hrs | ç”Ÿç”¢ç´šè¨“ç·´ã€æœ€çµ‚è©•ä¼° |

### 2. **è¨“ç·´æ™‚é•·åˆ†ç´š**

| ç­‰ç´š | Epochs | æ™‚é•· | Checkpoint é »ç‡ | é©ç”¨å ´æ™¯ |
|------|--------|------|----------------|---------|
| **Quick** | 50-100 | 5-10 min | æ¯ 50 | åŠŸèƒ½æ¸¬è©¦ã€å¿«é€Ÿé©—è­‰ |
| **Medium** | 500-1k | 15-30 min | æ¯ 100 | æ¶ˆèç ”ç©¶ã€åƒæ•¸æƒæ |
| **Full** | 2k-5k | 1-4 hrs | æ¯ 500 | ç”Ÿç”¢è¨“ç·´ã€æœ€çµ‚æ¨¡å‹ |
| **Extended** | 5k-10k | 4-12 hrs | æ¯ 1000 | é•·æœŸæ”¶æ–‚ã€æ¥µé™æ€§èƒ½ |

### 3. **å¯¦é©—é¡å‹å®šç¾©**

#### A. **Baselineï¼ˆåŸºç·šï¼‰**
- **ç›®çš„**ï¼šå»ºç«‹æ€§èƒ½åƒè€ƒé»
- **ç‰¹å¾µç‹€æ…‹**ï¼š
  - Fourier: âœ… å•Ÿç”¨ï¼ˆæ¨™æº–é…ç½®ï¼‰
  - Adaptive Weighting: âœ… å•Ÿç”¨ï¼ˆalpha=1.5, freq=50ï¼‰
  - Curriculum: âŒ é—œé–‰ï¼ˆå–®éšæ®µè¨“ç·´ï¼‰
  - RANS: âŒ é—œé–‰
  - VS-PINN: âœ… å•Ÿç”¨
- **é©—æ”¶æ¨™æº–**ï¼š
  - ç„¡ NaN/Infï¼ˆå¿…é ˆï¼‰
  - Loss æ”¶æ–‚ï¼ˆå¿…é ˆï¼‰
  - L2 < 30%ï¼ˆç›®æ¨™ï¼‰

#### B. **Ablationï¼ˆæ¶ˆèï¼‰**
- **ç›®çš„**ï¼šè©•ä¼°å–®ä¸€ç‰¹å¾µè²¢ç»
- **å¯¦é©—çµ„**ï¼š
  - `ablation_fourier`: é–‹å•Ÿ/é—œé–‰ Fourier ç‰¹å¾µ
  - `ablation_adaptive`: å›ºå®šæ¬Šé‡ vs è‡ªé©æ‡‰æ¬Šé‡
  - `ablation_curriculum`: å–®éšæ®µ vs èª²ç¨‹å­¸ç¿’
  - `ablation_rans`: ç„¡å…ˆé©— vs RANS å¼•å°
- **é©—æ”¶æ¨™æº–**ï¼š
  - ç›¸å°åŸºç·š L2 è®ŠåŒ– â‰¥ 10%ï¼ˆæœ‰æ•ˆæ€§è­‰æ“šï¼‰
  - è¨“ç·´æ™‚é•·è®ŠåŒ–è¨˜éŒ„

#### C. **Curriculumï¼ˆèª²ç¨‹å­¸ç¿’ï¼‰**
- **ç›®çš„**ï¼šé€æ­¥æå‡è¨“ç·´é›£åº¦
- **éšæ®µè¨­è¨ˆ**ï¼š
  - Stage1: å¼· PDE ç´„æŸï¼ˆepochs 0-30%ï¼‰
  - Stage2: PDE ä¸»å°ï¼ˆepochs 30-100%ï¼‰
- **é©—æ”¶æ¨™æº–**ï¼š
  - éšæ®µåˆ‡æ›æå¤±è®ŠåŒ– < 20%
  - æœ€çµ‚ PDE ratio â‰¥ 30%

#### D. **Sensitivityï¼ˆæ•æ„Ÿåº¦ï¼‰**
- **ç›®çš„**ï¼šè©•ä¼°åƒæ•¸ç©©å¥æ€§
- **æƒæåƒæ•¸**ï¼š
  - `alpha`: [0.5, 1.0, 1.5, 2.0, 3.0]ï¼ˆGradNormï¼‰
  - `K`: [20, 30, 50, 80, 100, 200]ï¼ˆæ„Ÿæ¸¬é»æ•¸ï¼‰
  - `freq`: [25, 50, 100, 200]ï¼ˆæ¬Šé‡æ›´æ–°é »ç‡ï¼‰
  - `lr`: [1e-4, 5e-4, 1e-3, 5e-3]ï¼ˆå­¸ç¿’ç‡ï¼‰
- **é©—æ”¶æ¨™æº–**ï¼š
  - K-èª¤å·®æ›²ç·šæ–œç‡ï¼ˆå¯è­˜åˆ¥æ€§ï¼‰
  - åƒæ•¸-æ€§èƒ½ç†±åœ–

#### E. **Comparisonï¼ˆæ–¹æ³•å°æ¯”ï¼‰**
- **ç›®çš„**ï¼šæ¯”è¼ƒä¸åŒæ–¹æ³•å„ªåŠ£
- **å°æ¯”çµ„**ï¼š
  - å„ªåŒ–å™¨ï¼šAdam vs SOAP vs L-BFGS
  - èª¿åº¦å™¨ï¼šCosine vs Warm Restarts vs å›ºå®š
  - ç¶²è·¯ï¼šFourier MLP vs SIREN
- **é©—æ”¶æ¨™æº–**ï¼š
  - æ”¶æ–‚é€Ÿåº¦å°æ¯”ï¼ˆé”åˆ°ç›¸åŒ L2 æ‰€éœ€ epochsï¼‰
  - æœ€çµ‚æ€§èƒ½å°æ¯”

---

## ğŸ”§ å¿«é€Ÿé¸æ“‡æŒ‡å—

### ä½¿ç”¨å ´æ™¯ â†’ æ¨è–¦æ¨¡æ¿

| å ´æ™¯ | æ¨è–¦æ¨¡æ¿ | æ™‚é•· | é—œéµé…ç½® |
|------|---------|------|---------|
| **å¿«é€ŸåŠŸèƒ½æ¸¬è©¦** | `2d_quick_baseline_v1.yml` | 5-10 min | K=20-50, epochs=50-100 |
| **åƒæ•¸èª¿å„ª** | `2d_medium_ablation_v1.yml` | 15-30 min | K=50-100, epochs=500-1k |
| **èª²ç¨‹è¨“ç·´é©—è­‰** | `3d_slab_curriculum_v1.yml` | 30-60 min | K=50-100, 2 stages |
| **ç”Ÿç”¢ç´šè¨“ç·´** | `3d_full_production_v1.yml` | 2-8 hrs | K=200-500, epochs=2k-5k |
| **æ•æ„Ÿåº¦å¯¦é©—** | `2d_1k_sensitivity_*.yml` | 20-40 min | æƒæå–®ä¸€åƒæ•¸ |

### ç‰¹å¾µçµ„åˆå»ºè­°

| çµ„åˆ | Fourier | Adaptive | Curriculum | RANS | VS-PINN | é©ç”¨å ´æ™¯ |
|------|---------|----------|-----------|------|---------|---------|
| **æœ€å°é…ç½®** | âœ… | âŒ | âŒ | âŒ | âœ… | åŸºç·šå°ç…§ |
| **æ¨™æº–é…ç½®** | âœ… | âœ… | âŒ | âŒ | âœ… | å¿«é€Ÿè¨“ç·´ |
| **å®Œæ•´é…ç½®** | âœ… | âœ… | âœ… | âŒ | âœ… | ç”Ÿç”¢è¨“ç·´ |
| **ä½ä¿çœŸå¼•å°** | âœ… | âœ… | âœ… | âœ… | âœ… | å°‘é‡è³‡æ–™å ´æ™¯ |

---

## ğŸ“Š åƒæ•¸èª¿å„ªå»ºè­°

### 1. **è‡ªé©æ‡‰æ¬Šé‡ï¼ˆGradNormï¼‰**

| åƒæ•¸ | æ¨è–¦ç¯„åœ | èªªæ˜ |
|------|---------|------|
| `grad_norm_alpha` | **1.5**ï¼ˆæ¨™æº–ï¼‰<br>0.5-3.0ï¼ˆæƒæï¼‰ | æ§åˆ¶æ¬Šé‡èª¿æ•´å¹…åº¦<br>Î±â†‘ â†’ æ›´æ¿€é€²çš„æ¬Šé‡èª¿æ•´ |
| `weight_update_freq` | **50**ï¼ˆæ¨™æº–ï¼‰<br>25-200ï¼ˆæƒæï¼‰ | æ¬Šé‡æ›´æ–°é »ç‡ï¼ˆepochsï¼‰<br>freqâ†“ â†’ æ›´é »ç¹èª¿æ•´ |

**âš ï¸ è­¦å‘Š**ï¼š
- `alpha < 1.0`ï¼šå¯èƒ½å°è‡´æ¬Šé‡æ›´æ–°éæ…¢ï¼ˆå¦‚ v2 çš„ 0.12 å°è‡´å¤±æ•ˆï¼‰
- `freq > 100`ï¼šæ¬Šé‡èª¿æ•´æ»¯å¾Œï¼Œå¯èƒ½éŒ¯éæœ€ä½³æ™‚æ©Ÿ

### 2. **åˆå§‹æ¬Šé‡é…ç½®**

| æå¤±é … | 2D å¿«é€Ÿ | 3D ä¸­ç­‰ | 3D å®Œæ•´ | èªªæ˜ |
|--------|---------|---------|---------|------|
| `data_weight` | 5.0 | 5.0-10.0 | 10.0 | è³‡æ–™ç›£ç£ |
| `momentum_*_weight` | 2.0-5.0 | 5.0-8.0 | 8.0-10.0 | PDE æ®˜å·® |
| `wall_constraint_weight` | 8.0 | 10.0 | 10.0-15.0 | å£é¢ç´„æŸ |

**åŸå‰‡**ï¼š
- ä¿æŒ `data â‰ˆ PDE`ï¼ˆé¿å… v2 çš„ data=93% å•é¡Œï¼‰
- å£é¢ç´„æŸæ‡‰å¼·æ–¼ PDEï¼ˆwall > PDE Ã— 1.5-2.0ï¼‰
- èª²ç¨‹ Stage2 æå‡ PDE æ¬Šé‡ 60-100%

### 3. **æ¡æ¨£ç­–ç•¥**

| åƒæ•¸ | 2D | 3D Slab | 3D Full | èªªæ˜ |
|------|----|---------|---------|----- |
| `pde_points` | 1024-2048 | 2048-4096 | 4096-8192 | PDE æ®˜å·®æ¡æ¨£é» |
| `boundary_points` | 500-1000 | 1000-2000 | 2000-5000 | é‚Šç•Œæ¢ä»¶é» |
| `wall_clustering` | 0.3 | 0.3-0.5 | 0.5 | å£é¢èšé¡æ¯”ä¾‹ |

---

## âœ… é©—æ”¶æ¨™æº–ï¼ˆåŸºæ–¼ AGENTS.mdï¼‰

### Gate 1: ç©©å®šæ€§ï¼ˆå¿…é ˆé€šéï¼‰
- [ ] ç„¡ NaN/Inf
- [ ] Loss æœ‰é™ä¸”æ”¶æ–‚
- [ ] æ¢¯åº¦ç©©å®šï¼ˆç„¡çˆ†ç‚¸ï¼‰
- [ ] ç„¡æ¨¡æ…‹å´©å¡Œï¼ˆå‹•æ…‹ç¯„åœ > 80%ï¼‰

### Gate 2: ç‰©ç†ä¸€è‡´æ€§ï¼ˆæ ¸å¿ƒç›®æ¨™ï¼‰
- [ ] **PDE Loss Ratio â‰¥ 30%**ï¼ˆPDE/(PDE+Data) â‰¥ 0.30ï¼‰
- [ ] **å£é¢å‰ªæ‡‰åŠ›éé›¶**ï¼ˆÏ„_w > 0.0005ï¼Œç†è«– 0.0025ï¼‰
- [ ] è³ªé‡å®ˆæ†èª¤å·® < 1%ï¼ˆâˆ‡Â·u < 0.01ï¼‰
- [ ] å£é¢é•å < 1.0ï¼ˆ|u_wall| < 1.0ï¼‰

### Gate 3: é æ¸¬ç²¾åº¦ï¼ˆæˆåŠŸé–€æª»ï¼‰
- [ ] **ç›¸å° L2 â‰¤ 15%**ï¼ˆu,v,pï¼‰
- [ ] çµ±è¨ˆ RMSE æ”¹å–„ â‰¥ 30%ï¼ˆvs ä½ä¿çœŸï¼‰
- [ ] èƒ½è­œ RMSE â‰¤ 25%

### Gate 4: æ•ˆç‡ï¼ˆå„ªåŒ–ç›®æ¨™ï¼‰
- [ ] æ”¶æ–‚åŠ é€Ÿ â‰¥ 30%ï¼ˆvs å›ºå®šæ¬Šé‡ï¼‰
- [ ] è¨“ç·´æ™‚é•· < 8 å°æ™‚ï¼ˆ3D å®Œæ•´ï¼‰

---

## ğŸ“ ä½¿ç”¨æµç¨‹

### 1. é¸æ“‡æ¨¡æ¿
```bash
# å¿«é€Ÿæ¸¬è©¦ï¼ˆæ¨è–¦åˆæ¬¡ä½¿ç”¨ï¼‰
cp configs/templates/2d_quick_baseline.yml configs/my_experiment_v1.yml

# ä¸­ç­‰è¦æ¨¡æ¶ˆèå¯¦é©—
cp configs/templates/2d_medium_ablation.yml configs/my_ablation_v1.yml

# ç”Ÿç”¢ç´šè¨“ç·´
cp configs/templates/3d_full_production.yml configs/my_production_v1.yml
```

### 2. ä¿®æ”¹é…ç½®
```yaml
# å¿…æ”¹æ¬„ä½
experiment:
  name: "my_experiment_v1"  # å¯¦é©—åç¨±ï¼ˆå½±éŸ¿è¼¸å‡ºè·¯å¾‘ï¼‰
  description: "ç°¡çŸ­æè¿°å¯¦é©—ç›®çš„"

# å»ºè­°æ”¹æ¬„ä½
sensors:
  K: 50  # æ„Ÿæ¸¬é»æ•¸ï¼ˆæ ¹æ“šå ´æ™¯èª¿æ•´ï¼‰

training:
  epochs: 100  # è¨“ç·´è¼ªæ•¸
```

### 3. åŸ·è¡Œè¨“ç·´
```bash
# åŸºæœ¬è¨“ç·´
python scripts/train.py --cfg configs/my_experiment_v1.yml

# èƒŒæ™¯åŸ·è¡Œï¼ˆæ¨è–¦ï¼‰
nohup python scripts/train.py --cfg configs/my_experiment_v1.yml \
    > log/my_experiment_v1/stdout.log 2>&1 &
```

### 4. ç›£æ§é€²åº¦
```bash
# å³æ™‚ç›£æ§
tail -f log/my_experiment_v1/training.log

# æª¢æŸ¥ PDE ratioï¼ˆæ¯ 20 epochsï¼‰
grep "PDE ratio" log/my_experiment_v1/training.log
```

### 5. è©•ä¼°çµæœ
```bash
# æª¢æŸ¥é»è©•ä¼°
python scripts/evaluate_checkpoint.py \
    --checkpoint checkpoints/my_experiment_v1/best_model.pth \
    --cfg configs/my_experiment_v1.yml
```

### 6. è¨˜éŒ„å¯¦é©—
åœ¨ `experiment_tracking.md` ä¸­è¨˜éŒ„ï¼š
- å¯¦é©— IDã€é…ç½®æª”åã€æ—¥æœŸ
- é—œéµçµæœï¼ˆL2, PDE ratio, Ï„_wï¼‰
- æ±ºç­–ï¼ˆé€šé/å¤±æ•— â†’ ä¸‹ä¸€æ­¥ï¼‰

---

## ğŸš¨ å¸¸è¦‹å•é¡Œ

### Q1: PDE Loss Ratio éä½ï¼ˆ< 10%ï¼‰
**ç—‡ç‹€**ï¼š`weighted_pde_loss / total_loss < 0.10`

**è¨ºæ–·**ï¼š
1. æª¢æŸ¥ `grad_norm_alpha`ï¼šè‹¥ < 1.0ï¼Œæå‡è‡³ 1.5-2.0
2. æª¢æŸ¥ `weight_update_freq`ï¼šè‹¥ > 100ï¼Œé™è‡³ 50
3. æª¢æŸ¥åˆå§‹æ¬Šé‡ï¼šç¢ºä¿ `data_weight â‰ˆ momentum_*_weight`

**ä¿®æ­£ç¯„ä¾‹**ï¼š
```yaml
losses:
  data_weight: 5.0          # é™ä½ï¼ˆåŸ 10.0ï¼‰
  momentum_x_weight: 5.0    # æå‡ï¼ˆåŸ 1.0ï¼‰
  grad_norm_alpha: 1.5      # æ¨™æº–åŒ–ï¼ˆåŸ 0.12ï¼‰
  weight_update_freq: 50    # åŠ é€Ÿï¼ˆåŸ 100ï¼‰
```

### Q2: å£é¢å‰ªæ‡‰åŠ›ç‚ºé›¶ï¼ˆÏ„_w â‰ˆ 0ï¼‰
**ç—‡ç‹€**ï¼š`tau_w_ratio < 0.1`ï¼ˆç†è«–æ‡‰ > 1.0ï¼‰

**è¨ºæ–·**ï¼š
1. æª¢æŸ¥ `wall_constraint_weight`ï¼šæ‡‰ > PDE æ¬Šé‡ 1.5-2.0 å€
2. æª¢æŸ¥ `boundary_points`ï¼šå¢åŠ è‡³ 1000-2000
3. æª¢æŸ¥ `wall_clustering`ï¼šæå‡è‡³ 0.3-0.5

**ä¿®æ­£ç¯„ä¾‹**ï¼š
```yaml
losses:
  wall_constraint_weight: 10.0  # æå‡ï¼ˆåŸ 5.0ï¼‰

training:
  sampling:
    boundary_points: 1000  # åŠ å€ï¼ˆåŸ 500ï¼‰
    wall_clustering: 0.3   # èšç„¦å£é¢
```

### Q3: éšæ®µåˆ‡æ›æå¤±è·³è®Š
**ç—‡ç‹€**ï¼šStage1â†’Stage2 æ™‚ loss å¢åŠ  > 20%

**è¨ºæ–·**ï¼š
1. æª¢æŸ¥æ¬Šé‡è®ŠåŒ–å¹…åº¦ï¼šStage2 PDE æ¬Šé‡ä¸æ‡‰è¶…é Stage1 çš„ 2 å€
2. è€ƒæ…®å­¸ç¿’ç‡åŒæ­¥é™ä½ï¼šStage2 lr = Stage1 lr Ã— 0.3-0.5

**ä¿®æ­£ç¯„ä¾‹**ï¼š
```yaml
curriculum:
  stages:
    - name: "Stage1"
      weights:
        momentum_x: 5.0
    - name: "Stage2"
      weights:
        momentum_x: 8.0   # åƒ…æå‡ 1.6Ã—ï¼ˆé 3Ã—ï¼‰
      lr: 3.0e-4          # é™ä½å­¸ç¿’ç‡ï¼ˆåŸ 1e-3ï¼‰
```

---

## ğŸ“š åƒè€ƒæ–‡ç»

1. **GradNorm èª¿åƒ**ï¼šChen et al., "GradNorm: Gradient Normalization for Adaptive Loss Balancing" (2018)
   - æ¨è–¦ alpha=1.0-1.5ï¼ˆä¸­ç­‰ä»»å‹™ï¼‰
   - æ›´æ–°é »ç‡ 50-100 steps

2. **VS-PINN ç¸®æ”¾**ï¼šSchiassi et al., "Extreme Theory of Functional Connections" (2021)
   - é€šé“æµ N_y=10-20ï¼ˆå£é¢æ³•å‘ï¼‰
   - æµå‘/å±•å‘ N_x,z=1-5

3. **QR-Pivot æ„Ÿæ¸¬**ï¼šManohar et al., "Data-Driven Sparse Sensor Placement" (2018)
   - K â‰¥ 2Ã—rank(POD) ä¿è­‰é‡å»º
   - é€šé“æµå»ºè­° K=50-100ï¼ˆ2Dï¼‰ï¼ŒK=200-500ï¼ˆ3Dï¼‰

4. **Fourier Features**ï¼šTancik et al., "Fourier Features Let Networks Learn High Frequency Functions" (2020)
   - é€±æœŸé‚Šç•Œï¼šä½¿ç”¨åŸŸé•·é »ç‡ [1,2,4,8]Ã—(2Ï€/L)
   - å£é¢æ³•å‘ï¼šä¸ä½¿ç”¨ Fourierï¼ˆä¿æŒæ¢¯åº¦ç²¾åº¦ï¼‰

---

## ğŸ”„ ç‰ˆæœ¬æ­·å²

| ç‰ˆæœ¬ | æ—¥æœŸ | è®Šæ›´å…§å®¹ |
|------|------|---------|
| v1.0 | 2025-10-15 | åˆå§‹ç‰ˆæœ¬ï¼šå»ºç«‹å‘½åè¦ç¯„ã€æ¨¡æ¿æ¡†æ¶ã€é©—æ”¶æ¨™æº– |

---

**ç¶­è­·è€…**ï¼šPINNs Research Team  
**æœ€å¾Œæ›´æ–°**ï¼š2025-10-15
